<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¥åº·çŸ¥è­˜å°æ¢éšª</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
            display: flex;
            justify-content: center;
            align-items: flex-start; /* Changed to flex-start to allow scrolling from top */
            min-height: 100vh;
            margin: 0;
            padding: 1rem;
            box-sizing: border-box;
        }
        #game-container {
            /* èƒŒæ™¯åœ–ç‰‡å·²ç§»é™¤ */
            background-image: none; /* ç§»é™¤èƒŒæ™¯åœ–ç‰‡ */
            background-color: #ffffff; /* è¨­å®šç‚ºç™½è‰²èƒŒæ™¯ */
            border-radius: 1.5rem; /* More rounded corners */
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            max-width: 900px;
            width: 100%;
            padding: 2rem;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100%; /* Changed from min-height to height */
            max-height: 90vh; /* Set a max height to enable scrolling within container */
            position: relative; /* For absolute positioning of internal elements */
            overflow-y: auto; /* Allow vertical scrolling within the game container if content overflows */
        }
        .screen {
            width: 100%;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex-grow: 1; /* Allow screens to take up available space */
            position: relative; /* Needed for any absolute positioning within screen */
        }
        .screen.active {
            display: flex;
        }
        /* Style for the content area on the start screen */
        .start-screen-content {
            background-color: rgba(255, 255, 255, 0.85); /* Semi-transparent white background */
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem; /* Space below content */
            width: 100%;
            max-width: 500px; /* Limit width for better readability */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            display: flex; /* Flexbox for centering content within */
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        .btn {
            background-image: linear-gradient(to right, #6EE7B7 0%, #34D399  51%, #6EE7B7  100%);
            margin: 1rem 0.5rem;
            padding: 0.8rem 2rem;
            text-align: center;
            text-transform: uppercase;
            transition: 0.5s;
            background-size: 200% auto;
            color: white;
            border-radius: 0.75rem; /* More rounded */
            display: inline-block;
            font-weight: 700;
            cursor: pointer;
            border: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .btn:hover {
            background-position: right center; /* change the direction of the change here */
            color: #fff;
            text-decoration: none;
        }
        .option-btn {
            background-color: #e2e8f0; /* Lighter gray for options */
            color: #334155; /* Darker text */
            margin: 0.5rem 0;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            width: 100%;
            max-width: 500px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
            text-align: left;
            border: 2px solid transparent;
            font-weight: 500;
        }
        .option-btn:hover {
            background-color: #cbd5e1; /* Slightly darker on hover */
            transform: translateY(-2px);
        }
        .option-btn.correct {
            background-color: #34D399; /* Green */
            color: white;
            border-color: #10B981;
        }
        .option-btn.incorrect {
            background-color: #EF4444; /* Red */
            color: white;
            border-color: #DC2626;
        }
        .submit-btn { /* Style for the new submit button */
            background-image: linear-gradient(to right, #F9A826 0%, #FBC02D 51%, #F9A826 100%);
            color: white;
            padding: 0.8rem 2rem;
            border-radius: 0.75rem;
            font-weight: 700;
            margin-top: 1rem; /* Space from options */
            cursor: pointer;
            transition: 0.5s;
            background-size: 200% auto;
            border: none;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 500px;
        }
        .submit-btn:hover {
            background-position: right center;
        }
        .character-card {
            background-color: #f8fafc;
            border-radius: 1rem;
            padding: 1.5rem;
            margin: 1rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: left;
            width: 100%;
            max-width: 400px;
        }
        .character-card h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #10B981; /* Green heading */
            margin-bottom: 0.5rem;
        }
        .character-card p {
            color: #475569;
            font-size: 0.95rem;
            line-height: 1.5;
        }
        .character-card .role {
            font-weight: 600;
            color: #2D3748; /* Darker gray */
            margin-bottom: 0.25rem;
        }
        #feedback-screen {
            text-align: center;
        }
        #feedback-screen h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        #feedback-message {
            font-size: 1.25rem;
            margin-bottom: 1rem;
        }
        #explanation {
            background-color: #e0f2f7; /* Light blue for explanation */
            border-left: 5px solid #06B6D4; /* Cyan border */
            padding: 1rem;
            border-radius: 0.5rem;
            margin-top: 1.5rem;
            text-align: left;
            color: #083344;
        }
        #gemini-explanation-container {
            background-color: #fffbeb; /* Light yellow for Gemini explanation */
            border-left: 5px solid #F59E0B; /* Amber border */
            padding: 1rem;
            border-radius: 0.5rem;
            margin-top: 1.5rem;
            text-align: left;
            color: #78350F;
            display: none; /* Hidden by default */
        }
        #score-display {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1E40AF; /* Dark blue */
            margin-top: 1rem;
        }
        .character-icon {
            font-size: 3rem; /* Larger emoji */
            line-height: 1;
            margin-right: 0.5rem;
            vertical-align: middle;
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #34D399;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: inline-block;
            vertical-align: middle;
            margin-left: 0.5rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Bottom Navigation Buttons Styling */
        .bottom-nav-buttons-container {
            display: flex;
            justify-content: center;
            gap: 1.5rem; /* Space between buttons */
            margin-top: 2rem; /* Space from content above */
            width: 100%; /* Take full width for centering */
        }
        .nav-btn {
            background-color: #a0aec0; /* A neutral background */
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 0.5rem;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: background-color 0.3s;
            display: flex; /* Allow content to be centered */
            align-items: center;
            justify-content: center;
        }
        .nav-btn:hover {
            background-color: #718096; /* Darker on hover */
        }
        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background-color: #cbd5e1; /* Lighter grey when disabled */
        }
        .view-score-btn { /* Style for the new "æŸ¥çœ‹åˆ†æ•¸" button */
            background-image: linear-gradient(to right, #60A5FA 0%, #3B82F6 51%, #60A5FA 100%);
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 0.5rem;
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: background-color 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .view-score-btn:hover {
            background-position: right center;
        }

        /* Audio controls styling */
        #audio-controls {
            display: flex;
            flex-direction: column; /* Stack controls vertically */
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
            padding: 1rem;
            background-color: #e2e8f0;
            border-radius: 0.75rem;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .audio-controls-row {
            display: flex;
            align-items: center;
            gap: 1rem;
            width: 100%;
            justify-content: center; /* Center items in the row */
            flex-wrap: wrap; /* Allow items to wrap on smaller screens */
        }
        #audio-controls button {
            background-color: #4CAF50; /* Green */
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s;
            white-space: nowrap; /* Prevent button text from wrapping */
        }
        #audio-controls button:hover {
            background-color: #45a049;
        }
        #audio-controls input[type="range"] {
            flex-grow: 1; /* Allow slider to take more space */
            min-width: 100px; /* Minimum width for slider */
            -webkit-appearance: none;
            appearance: none;
            height: 8px;
            background: #d3d3d3;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
            border-radius: 4px;
        }
        #audio-controls input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #34D399;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        #audio-controls input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #34D399;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        #bgm-selector {
            padding: 0.5rem;
            border-radius: 0.5rem;
            border: 1px solid #cbd5e1;
            background-color: #f8fafc;
            color: #334155;
            font-size: 0.9rem;
            flex-grow: 1; /* Allow selector to take more space */
            min-width: 120px;
        }
        #progressSlider {
            width: 100%; /* Make progress slider full width of its container */
        }
        .time-display {
            font-size: 0.85rem;
            color: #64748b;
            white-space: nowrap; /* Prevent time from wrapping */
            min-width: 80px; /* Ensure enough space for time display */
            text-align: center;
        }
    </style>
</head>
<body>
    <div id="game-container" class="flex flex-col items-center">

        <!-- Start Screen -->
        <div id="start-screen" class="screen active">
            <div class="start-screen-content">
                <h1 class="text-4xl font-bold text-gray-800 mb-6">æ­¡è¿ä¾†åˆ°å¥åº·çŸ¥è­˜å°æ¢éšªï¼</h1>
                <p class="text-lg text-gray-600 mb-8">åœ¨é€™è£¡ï¼Œæˆ‘å€‘å°‡èªè­˜ä¸€äº›é‡è¦çš„ç‡Ÿé¤Šç´ ï¼Œå®ƒå€‘éƒ½æ˜¯èº«é«”è£¡çš„ã€Œå¥åº·å¤¥ä¼´ã€å–”ï¼</p>
                <button class="btn" id="startGameBtn">é–‹å§‹éŠæˆ²</button>
                <button class="btn" id="renderCharactersBtn">èªè­˜å¥åº·å¤¥ä¼´</button>
            </div>
        </div>

        <!-- Character Info Screen -->
        <div id="characters-screen" class="screen">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">èªè­˜å¥åº·å¤¥ä¼´</h2>
            <div id="character-list" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Character cards will be injected here by JS -->
            </div>
            <button class="btn mt-8" id="backToHomeFromCharacters">è¿”å›é¦–é </button>
        </div>

        <!-- Question Screen -->
        <div id="question-screen" class="screen">
            <div id="score-display" class="mb-4">å¾—åˆ†ï¼š0</div>
            <h2 id="question-text" class="text-2xl font-semibold text-gray-700 mb-6"></h2>
            <div id="options-container" class="flex flex-col items-center w-full">
                <!-- Options will be injected here by JS -->
            </div>
            <div class="bottom-nav-buttons-container">
                <button id="prev-question-nav-btn" class="nav-btn">&#x25C0; ä¸Šä¸€é¡Œ</button>
                <button id="back-to-home-from-question-btn" class="nav-btn">å›åˆ°é¦–é </button> <!-- Added button -->
                <button id="next-question-nav-btn" class="nav-btn">ä¸‹ä¸€é¡Œ &#x25B6;</button>
            </div>
        </div>

        <!-- Feedback Screen -->
        <div id="feedback-screen" class="screen">
            <h2 id="feedback-result" class="text-3xl font-bold mb-4"></h2>
            <p id="feedback-message" class="text-xl text-gray-600 mb-6"></p>
            <div id="explanation" class="w-full max-w-lg mb-4"></div>
            <button class="btn" id="learnMoreBtn">âœ¨ æ·±å…¥äº†è§£</button>
            <div id="gemini-explanation-container" class="w-full max-w-lg mt-4">
                <div class="loading-spinner" id="gemini-loading" style="display:none;"></div>
                <p id="gemini-explanation-text"></p>
            </div>
            <div class="bottom-nav-buttons-container">
                <button id="prev-feedback-nav-btn" class="nav-btn">&#x25C0; ä¸Šä¸€é¡Œ</button>
                <button id="next-feedback-nav-btn" class="nav-btn">ä¸‹ä¸€é¡Œ &#x25B6;</button>
            </div>
        </div>

        <!-- End Screen -->
        <div id="end-screen" class="screen">
            <h2 class="text-4xl font-bold text-gray-800 mb-6">éŠæˆ²çµæŸï¼</h2>
            <p id="final-score" class="text-2xl text-gray-700 mb-8">ä½ çš„ç¸½åˆ†æ˜¯ï¼š0</p>
            <button class="btn" id="resetGameBtn">å†ç©ä¸€æ¬¡</button>
            <button class="btn" id="backToHomeFromEnd">å›åˆ°é¦–é </button>
        </div>

        <!-- Background Music Audio Elements -->
        <!-- Note: To ensure audio plays correctly, it's recommended to use .mp3 or .wav files and provide stable, directly accessible links. -->
        <!-- If you have other audio links, please replace the src attributes below. -->
        <audio id="bgm-song1" loop>
            <source src="https://github.com/petroleum2024/heyyo/raw/main/Warriyo%2C%20LXNGVX%20-%20Mortals%20Funk%20Remix%20%5BNCS%20Release%5D.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <audio id="bgm-song2" loop>
            <source src="https://github.com/petroleum2024/heyyo/raw/main/6%E6%9C%888%E6%97%A5.mp4" type="video/mp4">
            Your browser does not support the audio element.
        </audio>
        <audio id="bgm-song3" loop>
            <source src="https://github.com/petroleum2024/heyyo/raw/main/6%E6%9C%888%E6%97%A5(2)%20-%20Compressed%20with%20FlexClip.mp4" type="video/mp4">
            Your browser does not support the audio element.
        </audio>

        <!-- Correct Answer Sound Effect -->
        <audio id="correct-sfx">
            <source src="https://github.com/petroleum2024/heyyo/raw/main/6%E6%9C%887%E6%97%A5.mp4" type="video/mp4">
        </audio>

        <!-- Incorrect Answer Sound Effect -->
        <audio id="incorrect-sfx">
            <source src="https://github.com/petroleum2024/heyyo/raw/main/%E9%8C%AF%E8%AA%A4.mp4" type="video/mp4">
        </audio>

        <!-- Audio Controls -->
        <div id="audio-controls">
            <div class="audio-controls-row">
                <select id="bgm-selector" class="p-2 rounded-md bg-gray-100 border border-gray-300">
                    <!-- Options will be populated by JS -->
                </select>
                <button id="playPauseBtn">âšâš æš«åœ</button>
                <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="0.5">
            </div>
            <div class="audio-controls-row">
                <span id="currentTimeDisplay" class="time-display">00:00</span>
                <input type="range" id="progressSlider" min="0" max="0" step="0.1" value="0">
                <span id="durationDisplay" class="time-display">00:00</span>
            </div>
        </div>

    </div>

    <script>
        // Game data: questions, answers, explanations, and associated characters
        const gameData = [
            {
                question: "ä»¥ä¸‹å“ªä½å¥åº·å¤¥ä¼´è² è²¬è£½é€ ç”²ç‹€è…ºè·çˆ¾è’™ï¼Œå°æ–°é™³ä»£è¬å’Œç”Ÿé•·ç™¼è‚²è‡³é—œé‡è¦ï¼Ÿ",
                options: ["éˆ‰å¤§ä¿ ", "ç¢˜å°ç²¾éˆ", "é‰€é†«ç”Ÿ", "éˆ£è¶…äºº"],
                answer: "ç¢˜å°ç²¾éˆ",
                explanation: "ç¢˜å°ç²¾éˆæ˜¯ç”²ç‹€è…ºè·çˆ¾è’™çš„é—œéµæˆåˆ†ã€‚å¦‚æœç¼ºä¹ç¢˜ï¼Œå¯èƒ½æœƒå°è‡´ç”²ç‹€è…ºåŠŸèƒ½ä¸è¶³ï¼Œå½±éŸ¿èº«é«”çš„æ–°é™³ä»£è¬å’Œå…’ç«¥çš„ç”Ÿé•·ç™¼è‚²ï¼Œåš´é‡è€…å¯èƒ½å‡ºç¾ç”²ç‹€è…ºè…«å¤§ã€‚",
                character: "ç¢˜å°ç²¾éˆ"
            },
            {
                question: "å“ªä½å¥åº·å¤¥ä¼´ä¸»è¦å¹«åŠ©èº«é«”ç¶­æŒé«”æ¶²å¹³è¡¡ï¼Œä½†æ”å–éå¤šå¯èƒ½å°è‡´è¡€å£“å‡é«˜ï¼Ÿ",
                options: ["éˆ£è¶…äºº", "éµæˆ°å£«", "éˆ‰å¤§ä¿ ", "ç¶­ç”Ÿç´ Då¯¶å¯¶"],
                answer: "éˆ‰å¤§ä¿ ",
                explanation: "éˆ‰å¤§ä¿ æ˜¯èº«é«”é‡è¦çš„é›»è§£è³ªï¼Œå¹«åŠ©ç¶­æŒç´°èƒå…§å¤–çš„é«”æ¶²å¹³è¡¡ã€ç¥ç¶“è¡å‹•å‚³å°åŠè‚Œè‚‰æ­£å¸¸æ”¶ç¸®ã€‚ç„¶è€Œï¼Œé•·æœŸæ”å–éå¤šçš„éˆ‰ï¼ˆå¦‚é¹½åˆ†ï¼‰ï¼Œå®¹æ˜“å¢åŠ é«˜è¡€å£“ã€æ°´è…«åŠå¿ƒè¡€ç®¡ç–¾ç—…çš„é¢¨éšªã€‚",
                character: "éˆ‰å¤§ä¿ "
            },
            {
                question: "å“ªä½å¥åº·å¤¥ä¼´èƒ½èˆ‡éˆ‰å¤§ä¿ å”åŒä½œç”¨ï¼Œå¹«åŠ©å¹³è¡¡è¡€å£“ï¼Œä¸¦ç¶­æŒå¿ƒè‡Ÿå’Œè‚Œè‚‰çš„æ­£å¸¸åŠŸèƒ½ï¼Ÿ",
                options: ["é‰€é†«ç”Ÿ", "ç£·å·¨äºº", "é‚é­”æ³•å¸«", "é‹…å°éšŠé•·"],
                answer: "é‰€é†«ç”Ÿ",
                explanation: "é‰€é†«ç”Ÿæ˜¯éˆ‰å¤§ä¿ çš„å¹³è¡¡è€…ï¼Œå…©è€…å…±åŒç¶­è­·èº«é«”çš„é«”æ¶²å’Œé›»è§£è³ªå¹³è¡¡ã€‚è¶³å¤ çš„é‰€æ”å–æœ‰åŠ©æ–¼æŠµæ¶ˆéˆ‰å°è¡€å£“çš„å½±éŸ¿ï¼Œé™ä½é«˜è¡€å£“é¢¨éšªã€‚åŒæ™‚ï¼Œé‰€ä¹Ÿå°å¿ƒè‡Ÿç¯€å¾‹å’Œè‚Œè‚‰æ”¶ç¸®è‡³é—œé‡è¦ã€‚",
                character: "é‰€é†«ç”Ÿ"
            },
            {
                question: "å¦‚æœèº«é«”ç¼ºä¹ã€Œç¢˜å°ç²¾éˆã€ï¼Œæœ€å¯èƒ½å‡ºç¾å“ªç¨®å¥åº·å•é¡Œï¼Ÿ",
                options: ["è²§è¡€", "éª¨è³ªç–é¬†", "ç”²ç‹€è…ºè…«å¤§", "è¦–åŠ›æ¨¡ç³Š"],
                answer: "ç”²ç‹€è…ºè…«å¤§",
                explanation: "ç¢˜å°ç²¾éˆæ˜¯ç”²ç‹€è…ºè£½é€ è·çˆ¾è’™çš„å¿…éœ€å“ï¼Œå¦‚æœç¼ºä¹ç¢˜ï¼Œç”²ç‹€è…ºæœƒä»£å„Ÿæ€§åœ°å¢ç”Ÿè®Šå¤§ï¼Œå½¢æˆç”²ç‹€è…ºè…«å¤§ï¼ˆä¿—ç¨±å¤§è„–å­ç—…ï¼‰ã€‚åœ¨å…’ç«¥æ™‚æœŸç¼ºä¹æ›´æœƒå½±éŸ¿æ™ºåŠ›å’Œèº«é«”ç™¼è‚²ã€‚",
                character: "ç¢˜å°ç²¾éˆ"
            },
            {
                question: "ç‚ºäº†å¹³è¡¡ã€Œéˆ‰å¤§ä¿ ã€çš„å½±éŸ¿ï¼Œæˆ‘å€‘æ‡‰è©²å¤šæ”å–å“ªä½å¥åº·å¤¥ä¼´ï¼Ÿ",
                options: ["é‹…å°éšŠé•·", "é‚é­”æ³•å¸«", "é‰€é†«ç”Ÿ", "éµæˆ°å£«"],
                answer: "é‰€é†«ç”Ÿ",
                explanation: "å¤šæ”å–å¯Œå«é‰€çš„é£Ÿç‰©ï¼ˆå¦‚è”¬èœã€æ°´æœã€å…¨ç©€é¡ï¼‰ï¼Œæœ‰åŠ©æ–¼å¹«åŠ©èº«é«”æ’å‡ºå¤šé¤˜çš„éˆ‰ï¼Œå¾è€Œé”åˆ°å¹³è¡¡è¡€å£“çš„æ•ˆæœã€‚é‰€é†«ç”Ÿæ˜¯éˆ‰å¤§ä¿ çš„å¥½æ­æª”ï¼",
                character: "é‰€é†«ç”Ÿ"
            },
            {
                question: "å“ªä½å¥åº·å¤¥ä¼´é›–ç„¶ä¸èƒ½è¢«èº«é«”æ¶ˆåŒ–å¸æ”¶ï¼Œå»èƒ½å¹«åŠ©è…¸é“è •å‹•ï¼Œç¶­æŒæ¶ˆåŒ–é“å¥åº·ï¼Ÿ",
                options: ["ç¶­ç”Ÿç´ Cä»™å­", "éµæˆ°å£«", "çº–ç¶­å°åŠ©æ‰‹", "éˆ£è¶…äºº"],
                answer: "çº–ç¶­å°åŠ©æ‰‹",
                explanation: "çº–ç¶­å°åŠ©æ‰‹æ˜¯è†³é£Ÿçº–ç¶­çš„åŒ–èº«ï¼Œå®ƒåƒä¸€æŠŠæƒå¸šï¼Œæ¸…ç†è…¸é“åƒåœ¾ï¼Œä¿ƒé€²æ’ä¾¿é †æš¢ï¼Œé é˜²ä¾¿ç§˜ã€‚åŒæ™‚ï¼Œå®ƒä¹Ÿæœ‰åŠ©æ–¼ç©©å®šè¡€ç³–å’Œé™ä½è†½å›ºé†‡ï¼Œæ˜¯ç¶­è­·å¿ƒè¡€ç®¡å¥åº·çš„éš±å½¢è‹±é›„ï¼",
                character: "çº–ç¶­å°åŠ©æ‰‹"
            },
            // é—œæ–¼ã€Œæ™šä¸Š8é»å¾Œé€²é£Ÿä¸€å®šæœƒè®Šèƒ–ã€çš„è¿·æ€
            {
                question: "é—œæ–¼ã€Œæ™šä¸Š8é»å¾Œé€²é£Ÿä¸€å®šæœƒè®Šèƒ–ã€é€™å€‹èªªæ³•ï¼Œä»¥ä¸‹å“ªå€‹å¥åº·çŸ¥è­˜æ˜¯æ­£ç¢ºçš„ï¼Ÿ",
                options: ["a) æ™šä¸Šé€²é£Ÿçš„ç†±é‡æœƒè¢«èº«é«”å®Œå…¨å„²å­˜ç‚ºè„‚è‚ªã€‚", "b) è®Šèƒ–èˆ‡å¦ä¸»è¦å–æ±ºæ–¼å…¨å¤©ç¸½ç†±é‡æ”å–èˆ‡æ¶ˆè€—çš„å¹³è¡¡ã€‚", "c) æ™šä¸Šé€²é£Ÿæœƒé™ä½æ–°é™³ä»£è¬é€Ÿåº¦ï¼Œå°è‡´æ›´å®¹æ˜“ç™¼èƒ–ã€‚", "d) åªè¦åƒå¥åº·é£Ÿç‰©ï¼Œæ™šä¸Šåƒå†å¤šéƒ½ä¸æœƒè®Šèƒ–ã€‚"],
                answer: "b) è®Šèƒ–èˆ‡å¦ä¸»è¦å–æ±ºæ–¼å…¨å¤©ç¸½ç†±é‡æ”å–èˆ‡æ¶ˆè€—çš„å¹³è¡¡ã€‚",
                explanation: "é«”é‡çš„å¢æ¸›ä¸»è¦å–æ±ºæ–¼æ‚¨ä¸€å¤©æ”å–èˆ‡æ¶ˆè€—çš„ç¸½ç†±é‡å¹³è¡¡ï¼Œè€Œéç‰¹å®šçš„é€²é£Ÿæ™‚é–“é»ã€‚å¦‚æœå…¨å¤©ç¸½ç†±é‡æ²’æœ‰è¶…æ¨™ï¼Œå³ä½¿æ™šä¸Šåƒæ±è¥¿ä¹Ÿä¸æœƒè‡ªå‹•è®Šèƒ–ã€‚ç„¶è€Œï¼Œç¡å‰å¤§é‡é€²é£Ÿæˆ–é«˜ç†±é‡é£Ÿç‰©å¯èƒ½æœƒå½±éŸ¿ç¡çœ å“è³ªï¼Œä¸¦å¯èƒ½å°è‡´æ‚¨åœ¨ä¸çŸ¥ä¸ç¶“ä¸­æ”å–éå¤šç†±é‡ã€‚",
                character: "ç¢˜å°ç²¾éˆ" // é–“æ¥é—œè¯åˆ°æ–°é™³ä»£è¬
            },
            // é—œæ–¼ã€Œæ’æ¯’æœæ±æˆ–æ’æ¯’èŒ¶å¯ä»¥å¹«åŠ©èº«é«”æ¸…é™¤æ¯’ç´ ã€çš„è¿·æ€
            {
                question: "é—œæ–¼ã€Œæ’æ¯’æœæ±æˆ–æ’æ¯’èŒ¶å¯ä»¥å¹«åŠ©èº«é«”æ¸…é™¤æ¯’ç´ ã€é€™å€‹èªªæ³•ï¼Œä»¥ä¸‹å“ªå€‹å¥åº·çŸ¥è­˜æ˜¯æ­£ç¢ºçš„ï¼Ÿ",
                options: ["a) é€™äº›ç”¢å“èƒ½æœ‰æ•ˆæ’å‡ºé«”å…§ç©ç´¯çš„æ‰€æœ‰æ¯’ç´ ã€‚", "b) äººé«”ä¸»è¦ä¾é è‚è‡Ÿè¡›å£«å’Œè…è‡Ÿè¡›å£«è‡ªç„¶å®Œæˆæ’æ¯’åŠŸèƒ½ã€‚", "c) æ’æ¯’é£²å“å¯ä»¥å–ä»£å‡è¡¡é£²é£Ÿä¾†é”åˆ°æ’æ¯’æ•ˆæœã€‚", "d) åªæœ‰é€éæ’æ¯’ç”¢å“æ‰èƒ½çœŸæ­£æ·¨åŒ–èº«é«”ã€‚"],
                answer: "b) äººé«”ä¸»è¦ä¾é è‚è‡Ÿè¡›å£«å’Œè…è‡Ÿè¡›å£«è‡ªç„¶å®Œæˆæ’æ¯’åŠŸèƒ½ã€‚",
                explanation: "äººé«”æ“æœ‰å®Œå–„çš„è‡ªç„¶æ’æ¯’ç³»çµ±ï¼Œä¸»è¦ç”±ã€Œè‚è‡Ÿè¡›å£«ã€å’Œã€Œè…è‡Ÿè¡›å£«ã€è² è²¬è™•ç†å’Œæ’å‡ºé«”å…§çš„å»¢ç‰©èˆ‡æ¯’ç´ ã€‚å‡è¡¡é£²é£Ÿã€è¶³å¤ æ°´åˆ†æ”å–å’Œè¦å¾‹é‹å‹•æ˜¯æ”¯æŒé€™äº›å™¨å®˜æ­£å¸¸é‹ä½œçš„æœ€ä½³æ–¹å¼ï¼Œè€Œéä¾è³´ç‰¹å®šçš„æ’æ¯’ç”¢å“ã€‚",
                character: "è‚è‡Ÿè¡›å£«" // é€£çµåˆ°æ–°çš„è§’è‰²
            },
            // æ–°å¢çš„éµè³ªè¿·æ€é¡Œç›®
            {
                question: "é—œæ–¼éµè³ªæ”å–ï¼Œä»¥ä¸‹å“ªå€‹èªªæ³•æ˜¯æ­£ç¢ºçš„ï¼Ÿ",
                options: ["a) åªæœ‰åƒç´…è‚‰æ‰èƒ½è£œå……éµè³ªã€‚", "b) è”¬èœä¸­çš„éµè³ªèº«é«”ç„¡æ³•å¸æ”¶ã€‚", "c) ç¶­ç”Ÿç´ Cå¯ä»¥å¹«åŠ©éµè³ªå¸æ”¶ã€‚", "d) è²§è¡€å°±æ˜¯ç¼ºéµï¼Œç›´æ¥è£œå……éµåŠ‘å°±å¥½ã€‚"],
                answer: "c) ç¶­ç”Ÿç´ Cå¯ä»¥å¹«åŠ©éµè³ªå¸æ”¶ã€‚",
                explanation: "æ¤ç‰©æ€§éµï¼ˆéè¡€åŸºè³ªéµï¼‰çš„å¸æ”¶ç‡ä¸å¦‚å‹•ç‰©æ€§éµï¼ˆè¡€åŸºè³ªéµï¼‰ï¼Œä½†æ­é…å¯Œå«ç¶­ç”Ÿç´ Cçš„é£Ÿç‰©ï¼ˆå¦‚æŸ‘æ©˜é¡æ°´æœã€èŠ­æ¨‚ï¼‰å¯ä»¥é¡¯è‘—æé«˜å…¶å¸æ”¶ç‡ã€‚ç¼ºéµæ€§è²§è¡€æ‡‰ç”±é†«ç”Ÿè¨ºæ–·ä¸¦æŒ‡å°è£œå……ï¼Œä¸æ‡‰è‡ªè¡Œéš¨æ„è£œå……éµåŠ‘ã€‚",
                character: "éµæˆ°å£«"
            },
            // æ–°å¢çš„éˆ£è³ª/ç¶­ç”Ÿç´ Dè¿·æ€é¡Œç›®
            {
                question: "ç‚ºäº†è®“éª¨éª¼æ›´å¼·å£¯ï¼Œé™¤äº†æ”å–ã€Œéˆ£è¶…äººã€ï¼Œé‚„éœ€è¦å“ªä½å¥åº·å¤¥ä¼´çš„å¹«åŠ©ï¼Ÿ",
                options: ["a) éˆ‰å¤§ä¿ ", "b) ç¢˜å°ç²¾éˆ", "c) ç¶­ç”Ÿç´ Då¯¶å¯¶", "d) çº–ç¶­å°åŠ©æ‰‹"],
                answer: "c) ç¶­ç”Ÿç´ Då¯¶å¯¶",
                explanation: "ç¶­ç”Ÿç´ Då¯¶å¯¶æ˜¯å¹«åŠ©èº«é«”å¸æ”¶éˆ£è³ªçš„é—œéµã€‚å³ä½¿æ”å–è¶³å¤ çš„éˆ£ï¼Œå¦‚æœç¼ºä¹ç¶­ç”Ÿç´ Dï¼Œéˆ£ä¹Ÿç„¡æ³•æœ‰æ•ˆé€²å…¥éª¨éª¼ï¼Œé•·æœŸå¯èƒ½å°è‡´éª¨è³ªç–é¬†ã€‚é©é‡æ›¬å¤ªé™½æ˜¯ç²å–ç¶­ç”Ÿç´ Dçš„å¤©ç„¶æ–¹å¼ï¼Œä¹Ÿå¯ä»¥é€éç‰¹å®šé£Ÿç‰©è£œå……ã€‚",
                character: "ç¶­ç”Ÿç´ Då¯¶å¯¶"
            },
            // æ–°å¢çš„éˆ‰è³ªè¿·æ€é¡Œç›®
            {
                question: "ç‚ºäº†æ¸›å°‘ã€Œéˆ‰å¤§ä¿ ã€æ”å–éå¤šé€ æˆçš„å½±éŸ¿ï¼Œä»¥ä¸‹å“ªç¨®åšæ³•æœ€é‡è¦ï¼Ÿ",
                options: ["a) å¤šå–æ°´å°±å¯ä»¥æ’å‡ºå¤šé¤˜çš„éˆ‰ã€‚", "b) é¿å…åŠ å·¥é£Ÿå“å’Œéš±è—çš„éˆ‰ã€‚", "c) åªè¦ä¸åŠ é¹½çš„é£Ÿç‰©å°±æ²’æœ‰éˆ‰ã€‚", "d) å¤šé‹å‹•æµæ±—å°±èƒ½æ’éˆ‰ã€‚"],
                answer: "b) é¿å…åŠ å·¥é£Ÿå“å’Œéš±è—çš„éˆ‰ã€‚",
                explanation: "è¨±å¤šåŠ å·¥é£Ÿå“ã€é†¬æ–™ã€ç½é ­é£Ÿå“å’Œå¤–é£Ÿä¸­å«æœ‰å¤§é‡çš„éš±è—éˆ‰ï¼Œå³ä½¿å˜—èµ·ä¾†ä¸é¹¹ï¼Œä¹Ÿå¯èƒ½å°è‡´éˆ‰æ”å–éé‡ã€‚å–®ç´”å¤šå–æ°´æˆ–æµæ±—å°æ–¼æ’å‡ºé«”å…§éå¤šéˆ‰çš„æ•ˆæœæœ‰é™ï¼Œé—œéµåœ¨æ–¼å¾æºé ­æ§åˆ¶æ”å–ç¸½é‡ã€‚",
                character: "éˆ‰å¤§ä¿ "
            },
            // æ–°å¢é¡Œç›® 12
            {
                question: "é™¤äº†è£½é€ ç”²ç‹€è…ºè·çˆ¾è’™ï¼Œç¼ºä¹ã€Œç¢˜å°ç²¾éˆã€é‚„æœƒå°å…’ç«¥çš„å“ªæ–¹é¢ç”¢ç”Ÿåš´é‡å½±éŸ¿ï¼Ÿ",
                options: ["a) è¦–åŠ›ç™¼å±•", "b) æ™ºåŠ›ç™¼å±•", "c) éª¨éª¼å¯†åº¦", "d) è‚Œè‚‰åŠ›é‡"],
                answer: "b) æ™ºåŠ›ç™¼å±•",
                explanation: "ç¢˜å°æ–¼å…’ç«¥çš„æ™ºåŠ›ç™¼å±•è‡³é—œé‡è¦ã€‚å­•å©¦æˆ–å…’ç«¥æœŸç¢˜ç¼ºä¹ï¼Œå¯èƒ½å°è‡´ä¸å¯é€†è½‰çš„æ™ºåŠ›å—æå’Œç”Ÿé•·é²ç·©ã€‚",
                character: "ç¢˜å°ç²¾éˆ"
            },
            // æ–°å¢é¡Œç›® 13
            {
                question: "å“ªç¨®é£Ÿç‰©é€šå¸¸å«æœ‰å¤§é‡çš„éš±è—ã€Œéˆ‰å¤§ä¿ ã€ï¼Œå³ä½¿å˜—èµ·ä¾†ä¸é¹¹ï¼Œä¹Ÿæ‡‰æ³¨æ„é©é‡æ”å–ï¼Ÿ",
                options: ["a) æ–°é®®æ°´æœ", "b) ç”Ÿé®®è”¬èœ", "c) åŠ å·¥è‚‰è£½å“å’Œç½é ­é£Ÿå“", "d) ç³™ç±³å’Œå…¨éº¥éºµåŒ…"],
                answer: "c) åŠ å·¥è‚‰è£½å“å’Œç½é ­é£Ÿå“",
                explanation: "è¨±å¤šåŠ å·¥é£Ÿå“ã€é†ƒè£½é£Ÿå“ã€ç½é ­é£Ÿå“å’Œå¤–é£Ÿä¸­å«æœ‰å¤§é‡çš„éš±è—éˆ‰ã€‚å³ä½¿é£Ÿç‰©æœ¬èº«ä¸é¹¹ï¼Œä¹Ÿå¯èƒ½å› ç‚ºæ·»åŠ äº†å«éˆ‰çš„èª¿å‘³æ–™æˆ–é˜²è…åŠ‘è€Œå°è‡´éˆ‰æ”å–éé‡ã€‚",
                character: "éˆ‰å¤§ä¿ "
            },
            // æ–°å¢é¡Œç›® 14
            {
                question: "é™¤äº†å¹³è¡¡è¡€å£“ï¼Œã€Œé‰€é†«ç”Ÿã€é‚„å°èº«é«”çš„å“ªå…©å€‹é‡è¦ç³»çµ±çš„æ­£å¸¸åŠŸèƒ½è‡³é—œé‡è¦ï¼Ÿ",
                options: ["a) éª¨éª¼å’Œæ¶ˆåŒ–", "b) è¦–åŠ›å’Œè½åŠ›", "c) å¿ƒè‡Ÿç¯€å¾‹å’Œè‚Œè‚‰æ”¶ç¸®", "d) è‚è‡Ÿå’Œè…è‡Ÿæ’æ¯’"],
                answer: "c) å¿ƒè‡Ÿç¯€å¾‹å’Œè‚Œè‚‰æ”¶ç¸®",
                explanation: "é‰€æ˜¯ç¶­æŒæ­£å¸¸å¿ƒè‡Ÿç¯€å¾‹å’Œè‚Œè‚‰æ”¶ç¸®çš„é—œéµé›»è§£è³ªã€‚å®ƒèˆ‡éˆ‰å…±åŒä½œç”¨ï¼Œç¶­æŒç´°èƒå…§å¤–çš„é›»ä½å¹³è¡¡ï¼Œå°ç¥ç¶“ä¿¡è™Ÿå‚³å°ä¹Ÿæ¥µç‚ºé‡è¦ã€‚",
                character: "é‰€é†«ç”Ÿ"
            },
            // æ–°å¢é¡Œç›® 15
            {
                question: "ã€Œçº–ç¶­å°åŠ©æ‰‹ã€åœ¨æ¶ˆåŒ–é“ä¸­æ‰®æ¼”äº†ä»€éº¼ä¸»è¦è§’è‰²ï¼Œå¯ä»¥é é˜²å“ªç¨®å¸¸è¦‹çš„æ¶ˆåŒ–å•é¡Œï¼Ÿ",
                options: ["a) å¸æ”¶è„‚è‚ªï¼Œé é˜²é«˜è¡€å£“", "b) ä¿ƒé€²ç‡Ÿé¤Šå¸æ”¶ï¼Œé é˜²ç³–å°¿ç—…", "c) å¹«åŠ©è…¸é“è •å‹•ï¼Œé é˜²ä¾¿ç§˜", "d) åˆ†è§£è›‹ç™½è³ªï¼Œé é˜²èƒƒæ½°ç˜"],
                answer: "c) å¹«åŠ©è…¸é“è •å‹•ï¼Œé é˜²ä¾¿ç§˜",
                explanation: "è†³é£Ÿçº–ç¶­é›–ç„¶ä¸èƒ½è¢«æ¶ˆåŒ–å¸æ”¶ï¼Œä½†å®ƒèƒ½å¢åŠ ç³ä¾¿é«”ç©ï¼Œè»ŸåŒ–ç³ä¾¿ï¼Œåˆºæ¿€è…¸é“è •å‹•ï¼Œå¾è€Œä¿ƒé€²æ’ä¾¿ï¼Œæœ‰æ•ˆé é˜²ä¾¿ç§˜ã€‚åŒæ™‚ï¼Œå®ƒä¹Ÿæœ‰åŠ©æ–¼ç¶­æŒè…¸é“èŒç¾¤å¥åº·ã€‚",
                character: "çº–ç¶­å°åŠ©æ‰‹"
            },
            // æ–°å¢é¡Œç›® 16
            {
                question: "å“ªç¨®ç”Ÿæ´»ç¿’æ…£æœ€èƒ½æœ‰æ•ˆæ”¯æŒã€Œè‚è‡Ÿè¡›å£«ã€çš„è§£æ¯’åŠŸèƒ½ï¼Œè®“èº«é«”ä¿æŒæ½”æ·¨ï¼Ÿ",
                options: ["a) æ¯å¤©é£²ç”¨å¤§é‡å’–å•¡", "b) å‡è¡¡é£²é£Ÿã€å……è¶³ç¡çœ ã€é¿å…éé‡é£²é…’", "c) åªåƒå–®ä¸€ç¨®é¡çš„æ’æ¯’é£Ÿç‰©", "d) é•·æ™‚é–“ä¸é€²é£Ÿä»¥æ’æ¯’"],
                answer: "b) å‡è¡¡é£²é£Ÿã€å……è¶³ç¡çœ ã€é¿å…éé‡é£²é…’",
                explanation: "è‚è‡Ÿæ˜¯èº«é«”ä¸»è¦çš„è§£æ¯’å™¨å®˜ã€‚æ”¯æŒè‚è‡Ÿå¥åº·çš„æœ€ä½³æ–¹å¼æ˜¯ç¶­æŒå‡è¡¡é£²é£Ÿã€æ”å–è¶³å¤ çš„ç‡Ÿé¤Šç´ ã€å……è¶³ç¡çœ ã€è¦å¾‹é‹å‹•ï¼Œä¸¦é¿å…éé‡é£²é…’å’Œä¸å¿…è¦çš„è—¥ç‰©è² æ“”ã€‚",
                character: "è‚è‡Ÿè¡›å£«"
            },
            // æ–°å¢é¡Œç›® 17
            {
                question: "ã€Œè…è‡Ÿè¡›å£«ã€é™¤äº†éæ¿¾è¡€æ¶²ä¸­çš„å»¢ç‰©ï¼Œé‚„èƒ½èª¿ç¯€èº«é«”çš„å“ªé …é‡è¦åŠŸèƒ½ï¼Ÿ",
                options: ["a) é«”æº«èª¿ç¯€", "b) å…ç–«åæ‡‰", "c) æ°´åˆ†å’Œé›»è§£è³ªå¹³è¡¡", "d) è·çˆ¾è’™åˆ†æ³Œ"],
                answer: "c) æ°´åˆ†å’Œé›»è§£è³ªå¹³è¡¡",
                explanation: "è…è‡Ÿä¸åƒ…æ˜¯èº«é«”çš„ã€Œæ·¨æ°´å» ã€ï¼Œè² è²¬å°‡è¡€æ¶²ä¸­çš„ä»£è¬å»¢ç‰©ï¼ˆå¦‚å°¿ç´ ã€è‚Œé…é…¸ï¼‰éæ¿¾ä¸¦å½¢æˆå°¿æ¶²æ’å‡ºï¼Œå®ƒé‚„æ˜¯ç¶­æŒèº«é«”æ°´åˆ†ã€é›»è§£è³ªï¼ˆå¦‚éˆ‰ã€é‰€ã€éˆ£ï¼‰å’Œé…¸é¹¼å¹³è¡¡çš„é—œéµå™¨å®˜ã€‚",
                character: "è…è‡Ÿè¡›å£«"
            },
            // æ–°å¢é¡Œç›® 18
            {
                question: "ç‚ºäº†æé«˜æ¤ç‰©æ€§ã€Œéµæˆ°å£«ã€çš„å¸æ”¶ç‡ï¼Œå»ºè­°èˆ‡å“ªç¨®ç¶­ç”Ÿç´ ä¸€èµ·æ”å–ï¼Ÿ",
                options: ["a) ç¶­ç”Ÿç´ A", "b) ç¶­ç”Ÿç´ B12", "c) ç¶­ç”Ÿç´ C", "d) ç¶­ç”Ÿç´ K"],
                answer: "c) ç¶­ç”Ÿç´ C",
                explanation: "æ¤ç‰©æ€§é£Ÿç‰©ä¸­çš„éµï¼ˆéè¡€åŸºè³ªéµï¼‰è¼ƒé›£è¢«äººé«”å¸æ”¶ï¼Œä½†è‹¥åŒæ™‚æ”å–å¯Œå«ç¶­ç”Ÿç´ Cçš„é£Ÿç‰©ï¼ˆå¦‚æŸ‘æ©˜é¡æ°´æœã€ç•ªçŸ³æ¦´ã€ç”œæ¤’ï¼‰ï¼Œç¶­ç”Ÿç´ Cèƒ½å°‡éè¡€åŸºè³ªéµè½‰åŒ–ç‚ºæ›´å®¹æ˜“å¸æ”¶çš„å½¢å¼ï¼Œé¡¯è‘—æé«˜å…¶å¸æ”¶ç‡ã€‚",
                character: "éµæˆ°å£«"
            },
            // æ–°å¢é¡Œç›® 19
            {
                question: "é™¤äº†éª¨éª¼å’Œç‰™é½’ï¼Œã€Œéˆ£è¶…äººã€é‚„åƒèˆ‡äº†èº«é«”çš„å“ªäº›é‡è¦ç”Ÿç†åŠŸèƒ½ï¼Ÿ",
                options: ["a) è¦–åŠ›ç¶­æŒèˆ‡å¤œé–“è¦–åŠ›", "b) è¡€æ¶²å‡å›ºèˆ‡è‚Œè‚‰æ”¶ç¸®", "c) è¡€ç³–èª¿ç¯€èˆ‡èƒ½é‡ä»£è¬", "d) é ­é«®ç”Ÿé•·èˆ‡çš®è†šå¥åº·"],
                answer: "b) è¡€æ¶²å‡å›ºèˆ‡è‚Œè‚‰æ”¶ç¸®",
                explanation: "éˆ£ä¸åƒ…æ˜¯éª¨éª¼å’Œç‰™é½’çš„ä¸»è¦æˆåˆ†ï¼Œå®ƒåœ¨è¡€æ¶²å‡å›ºã€ç¥ç¶“ä¿¡è™Ÿå‚³å°ã€è‚Œè‚‰æ”¶ç¸®ï¼ˆåŒ…æ‹¬å¿ƒè‚Œï¼‰å’Œç´°èƒé€šè¨Šç­‰å¤šç¨®ç”Ÿç†éç¨‹ä¸­éƒ½æ‰®æ¼”è‘—ä¸å¯æˆ–ç¼ºçš„è§’è‰²ã€‚",
                character: "éˆ£è¶…äºº"
            },
            // æ–°å¢é¡Œç›® 20 (æœ€å¾Œä¸€é¡Œ)
            {
                question: "ç²å–ã€Œç¶­ç”Ÿç´ Då¯¶å¯¶ã€æœ€å¤©ç„¶ã€æœ€ä¸»è¦çš„æ–¹å¼æ˜¯ä»€éº¼ï¼Ÿ",
                options: ["a) é£²ç”¨å¤§é‡ç‰›å¥¶", "b) é©é‡æ›¬å¤ªé™½", "c) é£Ÿç”¨å¤§é‡ç¶ è‘‰è”¬èœ", "d) é€éé£²ç”¨æ°´è£œå……"],
                answer: "b) é©é‡æ›¬å¤ªé™½",
                explanation: "äººé«”çš®è†šåœ¨æ¥å—é™½å…‰ï¼ˆç´«å¤–ç·šBï¼‰ç…§å°„å¾Œï¼Œèƒ½å¤ è‡ªè¡Œåˆæˆç¶­ç”Ÿç´ Dã€‚é€™æ˜¯ç²å–ç¶­ç”Ÿç´ Dæœ€å¤©ç„¶ä¹Ÿæ˜¯æœ€ä¸»è¦çš„æ–¹å¼ã€‚é£²é£Ÿè£œå……ï¼ˆå¦‚é®­é­šã€è›‹é»ƒã€å¼·åŒ–ç‰›å¥¶ï¼‰æ˜¯è¼”åŠ©æ‰‹æ®µã€‚",
                character: "ç¶­ç”Ÿç´ Då¯¶å¯¶"
            }
        ];

        // Character definitions
        const characters = [
            {
                id: "ç¢˜å°ç²¾éˆ",
                name: "ç¢˜å°ç²¾éˆ",
                icon: "ğŸ§š",
                role: "ç”²ç‹€è…ºè·çˆ¾è’™è£½é€ è€…",
                description: "æˆ‘æ˜¯èº«é«”è£¡æ–°é™³ä»£è¬çš„æŒ‡æ®å®˜ï¼ä¸»è¦è² è²¬è£½é€ ç”²ç‹€è…ºè·çˆ¾è’™ï¼Œé€™å°ä½ çš„ç”Ÿé•·ç™¼è‚²ã€èƒ½é‡æ¶ˆè€—å’Œæ–°é™³ä»£è¬é€Ÿåº¦éƒ½éå¸¸é‡è¦ã€‚",
                deficiencySymptoms: "ç¼ºä¹æ™‚å¯èƒ½å°è‡´ç”²ç‹€è…ºåŠŸèƒ½ä¸è¶³ï¼ˆå¦‚ç”²ç‹€è…ºè…«å¤§ï¼Œä¿—ç¨±å¤§è„–å­ç—…ï¼‰ã€æ–°é™³ä»£è¬ç·©æ…¢ã€ç–²å€¦ã€é«”é‡å¢åŠ ï¼Œå…’ç«¥å‰‡æœƒå½±éŸ¿ç”Ÿé•·ç™¼è‚²å’Œæ™ºåŠ›ç™¼å±•ã€‚",
                sources: "ä¸»è¦ä¾†è‡ªæµ·å¸¶ã€æµ·ç”¢å’ŒåŠ ç¢˜é¹½ã€‚",
                example: "ğŸ’¡ ç”Ÿæ´»ç¯„ä¾‹ï¼šå°±åƒå®¶è£¡çš„æ†æº«å™¨ï¼Œæˆ‘è² è²¬èª¿ç¯€ä½ èº«é«”çš„ã€Œæº«åº¦ã€å’Œã€Œç¯€å¥ã€ã€‚ç•¶æˆ‘å·¥ä½œæ­£å¸¸ï¼Œä½ çš„ç²¾ç¥æœƒå¾ˆå¥½ï¼Œä¸æœƒæ„Ÿåˆ°ç¸½æ˜¯ç–²å€¦æˆ–éåº¦èˆˆå¥®ã€‚"
            },
            {
                id: "éˆ‰å¤§ä¿ ",
                name: "éˆ‰å¤§ä¿ ",
                icon: "ğŸ§š",
                role: "é«”æ¶²å¹³è¡¡èˆ‡ç¥ç¶“å‚³å°è€…",
                description: "æˆ‘æ˜¯ä½ èº«é«”è£¡ä¸å¯æˆ–ç¼ºçš„é›»è§£è³ªï¼Œå¹«å¿™ç¶­æŒç´°èƒå…§å¤–çš„æ°´å¹³è¡¡ã€è‚Œè‚‰æ”¶ç¸®å’Œç¥ç¶“è¨Šæ¯å‚³éã€‚ä½†è«‹è¨˜ä½ï¼Œå‡¡äº‹é©é‡å°±å¥½ï¼",
                deficiencySymptoms: "é›–ç„¶éˆ‰ç¼ºä¹è¼ƒå°‘è¦‹ï¼ˆé™¤éå¤§é‡å‡ºæ±—æˆ–åš´é‡è…¹ç€‰ï¼‰ï¼Œä½†ç¼ºä¹å¯èƒ½å°è‡´ä½è¡€éˆ‰ç—‡ï¼Œç—‡ç‹€åŒ…æ‹¬ç–²å‹ã€é ­ç—›ã€å™å¿ƒã€è‚Œè‚‰ç—™æ”£ï¼Œåš´é‡æ™‚ç”šè‡³å¼•èµ·è…¦æ°´è…«å’Œæ˜è¿·ã€‚",
                sources: "ä¸»è¦ä¾†è‡ªé£Ÿé¹½å’ŒåŠ å·¥é£Ÿå“ã€‚",
                example: "ğŸ’¡ ç”Ÿæ´»ç¯„ä¾‹ï¼šæˆ‘åƒèº«é«”è£¡çš„ã€Œæ°´ç®¡å·¥ã€ï¼Œç¢ºä¿æ°´æµï¼ˆé«”æ¶²ï¼‰åœ¨æ­£ç¢ºçš„åœ°æ–¹ï¼Œå£“åŠ›ï¼ˆè¡€å£“ï¼‰ä¹Ÿç¶­æŒåœ¨ç©©å®šæ°´å¹³ã€‚ä½†å¦‚æœæˆ‘å¤ªå¤šï¼Œæ°´ç®¡å£“åŠ›å°±æœƒéå¤§å–”ï¼"
            },
            {
                id: "é‰€é†«ç”Ÿ",
                name: "é‰€é†«ç”Ÿ",
                icon: "ğŸ§š",
                role: "è¡€å£“å¹³è¡¡èˆ‡å¿ƒè‚Œå®ˆè­·è€…",
                description: "æˆ‘æ˜¯ã€Œéˆ‰å¤§ä¿ ã€çš„æœ€ä½³æ‹æª”ï¼Œæˆ‘å€‘ä¸€èµ·åˆä½œä¾†ä¿æŒä½ èº«é«”çš„æ¶²é«”å’Œé›»è§£è³ªå¹³è¡¡ã€‚æˆ‘çš„ç‰¹åˆ¥ä»»å‹™æ˜¯å¹«åŠ©èº«é«”æ’å‡ºå¤šé¤˜çš„éˆ‰ï¼Œé€™æ¨£å°±èƒ½æœ‰æ•ˆç®¡ç†è¡€å£“ï¼Œå®ˆè­·ä½ çš„å¿ƒè‡Ÿå¥åº·ï¼",
                deficiencySymptoms: "ç¼ºä¹æ™‚å¯èƒ½å°è‡´ä½è¡€é‰€ç—‡ï¼Œç—‡ç‹€åŒ…æ‹¬è‚Œè‚‰ç„¡åŠ›ã€ç–²å‹ã€å¿ƒå¾‹ä¸æ•´ã€ä¾¿ç§˜ï¼Œåš´é‡æ™‚å¯èƒ½å½±éŸ¿å¿ƒè‡ŸåŠŸèƒ½ç”šè‡³å±åŠç”Ÿå‘½ã€‚",
                sources: "ä¸»è¦ä¾†è‡ªæ–°é®®è”¬èœã€æ°´æœï¼ˆå¦‚é¦™è•‰ï¼‰ã€å…¨ç©€é¡å’Œè±†é¡ã€‚",
                example: "ğŸ’¡ ç”Ÿæ´»ç¯„ä¾‹ï¼šæˆ‘æ˜¯ã€Œéˆ‰å¤§ä¿ ã€çš„ç…è»Šå’Œå¹³è¡¡å™¨ï¼ç•¶éˆ‰å¤§ä¿ æƒ³è®“è¡€å£“å‡é«˜æ™‚ï¼Œæˆ‘æœƒè·³å‡ºä¾†å¹«åŠ©å®ƒé™ä¸‹ä¾†ã€‚æˆ‘é‚„æ˜¯å¿ƒè‡Ÿè·³å‹•çš„ã€Œç¯€æ‹å™¨ã€ï¼Œç¢ºä¿å®ƒè¦å¾‹å·¥ä½œã€‚"
            },
            {
                id: "çº–ç¶­å°åŠ©æ‰‹",
                name: "çº–ç¶­å°åŠ©æ‰‹",
                icon: "ğŸ§š",
                role: "æ¶ˆåŒ–é“æ¸…æ½”å“¡èˆ‡è…¸é“å®ˆè­·è€…",
                description: "æˆ‘æ˜¯æ¶ˆåŒ–é“çš„å¥½å¹«æ‰‹ï¼é›–ç„¶æˆ‘ä¸æœƒè¢«èº«é«”æ¶ˆåŒ–å¸æ”¶ï¼Œä½†èƒ½å¢åŠ é£½è¶³æ„Ÿã€å¹«åŠ©è…¸é“è •å‹•ï¼Œè®“æ’ä¾¿é †æš¢ï¼Œé‚„èƒ½å”åŠ©ç¶­æŒè¡€ç³–å’Œè†½å›ºé†‡çš„ç©©å®šå–”ï¼",
                deficiencySymptoms: "ç¼ºä¹æ™‚æœ€å¸¸è¦‹çš„ç—‡ç‹€æ˜¯ä¾¿ç§˜ï¼Œé•·æœŸç¼ºä¹å¯èƒ½å¢åŠ ç½¹æ‚£å¤§è…¸ç™Œã€å¿ƒè¡€ç®¡ç–¾ç—…ã€ç³–å°¿ç—…çš„é¢¨éšªã€‚",
                sources: "ä¸»è¦ä¾†è‡ªè”¬èœã€æ°´æœã€å…¨ç©€é¡ã€è±†é¡å’Œå …æœã€‚",
                example: "ğŸ’¡ ç”Ÿæ´»ç¯„ä¾‹ï¼šæˆ‘å°±åƒè…¸é“è£¡çš„ã€Œæ¸…æ½”å·¥ã€å’Œã€Œé‹è¼¸è»ŠéšŠã€ã€‚æˆ‘æŠŠæ¶ˆåŒ–é“è£¡çš„åƒåœ¾ï¼ˆå»¢ç‰©ï¼‰æƒå‡ºå»ï¼Œè®“æ¶ˆåŒ–ç³»çµ±é †æš¢é‹è¡Œï¼Œé‚„èƒ½è®“è¡€ç³–å’Œè†½å›ºé†‡åƒä¹˜åç©©å®šçš„å·´å£«ä¸€æ¨£ï¼Œä¸æœƒçªç„¶é£†é«˜ã€‚"
            },
            // æ–°å¢çš„è§’è‰²ï¼šè‚è‡Ÿè¡›å£«
            {
                id: "è‚è‡Ÿè¡›å£«",
                name: "è‚è‡Ÿè¡›å£«",
                icon: "ğŸ§š",
                role: "èº«é«”è§£æ¯’å¤§å¸«",
                description: "æˆ‘æ˜¯ä½ èº«é«”è£¡æœ€é‡è¦çš„è§£æ¯’å™¨å®˜ï¼è² è²¬è™•ç†å’Œåˆ†è§£ä¾†è‡ªé£Ÿç‰©ã€è—¥ç‰©å’Œç’°å¢ƒçš„å„ç¨®æœ‰å®³ç‰©è³ªã€‚æˆ‘çš„å¥åº·å°ä½ å…¨èº«çš„æ’æ¯’åŠŸèƒ½è‡³é—œé‡è¦å–”ï¼",
                deficiencySymptoms: "è‚è‡ŸåŠŸèƒ½å—æçš„ç—‡ç‹€å¤šæ¨£ï¼ŒåŒ…æ‹¬ç–²å‹ã€é£Ÿæ…¾ä¸æŒ¯ã€å™å¿ƒã€çš®è†šæˆ–çœ¼ç›ç™¼é»ƒï¼ˆé»ƒç–¸ï¼‰ã€å°¿æ¶²è®Šæ·±ã€çš®è†šç˜™ç™¢ã€å®¹æ˜“ç˜€é’ç­‰ã€‚",
                sources: "ä¿æŒå¥åº·è‚è‡Ÿéœ€å‡è¡¡é£²é£Ÿã€å……è¶³ç¡çœ ã€é¿å…éé‡é£²é…’å’Œè—¥ç‰©æ¿«ç”¨ã€‚",
                example: "ğŸ’¡ ç”Ÿæ´»ç¯„ä¾‹ï¼šæˆ‘åƒæ˜¯èº«é«”è£¡çš„ã€ŒåŒ–å­¸å·¥å» ã€å’Œã€Œå›æ”¶ç«™ã€ã€‚æˆ‘èƒ½æŠŠæœ‰å®³ç‰©è³ªè®Šæˆç„¡å®³çš„ï¼Œç„¶å¾Œé€å‡ºå»ã€‚ä½ çš„é£²é£Ÿã€ä½œæ¯éƒ½æœƒç›´æ¥å½±éŸ¿æˆ‘çš„å·¥ä½œæ•ˆç‡å–”ï¼"
            },
            // æ–°å¢çš„è§’è‰²ï¼šè…è‡Ÿè¡›å£«
            {
                id: "è…è‡Ÿè¡›å£«",
                name: "è…è‡Ÿè¡›å£«",
                icon: "ğŸ§š",
                role: "é«”æ¶²èˆ‡å»¢ç‰©éæ¿¾å™¨",
                description: "æˆ‘æ˜¯ä½ èº«é«”è£¡çš„ç²¾å¯†éæ¿¾å™¨ï¼è² è²¬éæ¿¾è¡€æ¶²ä¸­çš„å»¢ç‰©ï¼Œèª¿ç¯€æ°´åˆ†å’Œé›»è§£è³ªå¹³è¡¡ï¼Œä¸¦ç”Ÿæˆå°¿æ¶²æ’å‡ºé«”å¤–ã€‚æˆ‘çš„æ­£å¸¸é‹ä½œç¢ºä¿èº«é«”å…§éƒ¨ç’°å¢ƒçš„æ½”æ·¨ï¼",
                deficiencySymptoms: "è…è‡ŸåŠŸèƒ½ä¸ä½³çš„æ—©æœŸç—‡ç‹€ä¸æ˜é¡¯ï¼Œå¾ŒæœŸå¯èƒ½å‡ºç¾æ°´è…«ï¼ˆå°¤å…¶è…³è¸å’Œçœ¼ç›å‘¨åœï¼‰ã€ç–²å‹ã€å°¿é‡æ”¹è®Šã€é£Ÿæ…¾ä¸æŒ¯ã€å™å¿ƒã€çš®è†šç˜™ç™¢ã€é«˜è¡€å£“ç­‰ã€‚",
                sources: "ä¿æŒå¥åº·è…è‡Ÿéœ€è¶³å¤ æ°´åˆ†æ”å–ã€æ§åˆ¶è¡€å£“è¡€ç³–ã€é¿å…é«˜é¹½é«˜æ²¹é£²é£Ÿã€‚",
                example: "ğŸ’¡ ç”Ÿæ´»ç¯„ä¾‹ï¼šæˆ‘åƒæ˜¯èº«é«”è£¡çš„ã€Œæ·¨æ°´å» ã€å’Œã€Œåƒåœ¾åˆ†é¡å“¡ã€ã€‚æˆ‘æŠŠè¡€æ¶²ä¸­çš„é«’æ±è¥¿éæ¿¾æ‰ï¼Œç„¶å¾ŒæŠŠæœ‰ç”¨çš„æ°´å’Œé¤Šåˆ†ç•™ä¸‹ä¾†ï¼Œç¢ºä¿ä½ çš„èº«é«”è£¡ç¸½æ˜¯ä¹¾æ·¨çš„æ¶²é«”åœ¨å¾ªç’°ã€‚"
            },
            // æ–°å¢è§’è‰²ï¼šéµæˆ°å£«
            {
                id: "éµæˆ°å£«",
                name: "éµæˆ°å£«",
                icon: "ğŸ§š",
                role: "æ°§æ°£é‹è¼¸èˆ‡èƒ½é‡è£½é€ è€…",
                description: "æˆ‘æ˜¯ä½ èº«é«”è£¡çš„ã€Œæ°§æ°£é‹è¼¸å¤§éšŠé•·ã€ï¼ä¸»è¦è² è²¬è£½é€ ç´…è¡€çƒï¼Œå°‡æ°§æ°£é‹é€åˆ°èº«é«”å„è™•ï¼Œè®“ä½ å……æ»¿æ´»åŠ›ã€‚",
                deficiencySymptoms: "ç¼ºä¹æ™‚æœ€å¸¸è¦‹çš„æ˜¯ç¼ºéµæ€§è²§è¡€ï¼Œç—‡ç‹€åŒ…æ‹¬ç–²å€¦ã€è‡‰è‰²è’¼ç™½ã€é ­æšˆã€å‘¼å¸æ€¥ä¿ƒã€å¿ƒæ‚¸ã€æ‰‹è…³å†°å†·ã€æŒ‡ç”²è„†å¼±ã€æ‰é«®ç­‰ã€‚",
                sources: "ä¸»è¦ä¾†è‡ªç´…è‚‰ã€è±†é¡ã€æ·±ç¶ è‰²è”¬èœã€å …æœã€‚",
                example: "ğŸ’¡ ç”Ÿæ´»ç¯„ä¾‹ï¼šæˆ‘å°±åƒèº«é«”è£¡çš„ã€Œç‰©æµå…¬å¸ã€ï¼Œè² è²¬æŠŠæ°§æ°£é€™å€‹é‡è¦çš„ã€Œè²¨ç‰©ã€é€åˆ°æ¯å€‹ç´°èƒï¼Œè®“å®ƒå€‘å……æ»¿èƒ½é‡åœ°é‹ä½œã€‚ç¼ºäº†æˆ‘ï¼Œä½ çš„ç´°èƒå°±ã€Œæ²’é›»ã€äº†ï¼"
            },
            // æ–°å¢è§’è‰²ï¼šéˆ£è¶…äºº
            {
                id: "éˆ£è¶…äºº",
                name: "éˆ£è¶…äºº",
                icon: "ğŸ§š",
                role: "éª¨éª¼èˆ‡ç‰™é½’çš„å»ºé€ è€…",
                description: "æˆ‘æ˜¯ä½ éª¨éª¼å’Œç‰™é½’çš„ã€Œè¶…ç´šå»ºç¯‰å¸«ã€ï¼æˆ‘çš„ä¸»è¦ä»»å‹™æ˜¯è®“ä½ çš„éª¨é ­å¼·å£¯ï¼Œç‰™é½’å …å›ºã€‚æ­¤å¤–ï¼Œæˆ‘é‚„åƒèˆ‡ç¥ç¶“å‚³å°ã€è‚Œè‚‰æ”¶ç¸®å’Œè¡€æ¶²å‡å›ºç­‰é‡è¦ç”Ÿç†åŠŸèƒ½å–”ï¼",
                deficiencySymptoms: "å…’ç«¥ç¼ºä¹å¯èƒ½å°è‡´ä½åƒ‚ç—…ï¼Œæˆäººé•·æœŸç¼ºä¹å‰‡æ˜“å°è‡´éª¨è³ªç–é¬†ç—‡ï¼Œå¢åŠ éª¨æŠ˜é¢¨éšªã€‚å…¶ä»–ç—‡ç‹€é‚„åŒ…æ‹¬è‚Œè‚‰ç—™æ”£ã€æŠ½ç­‹ã€å¤±çœ ã€ç¥ç¶“æ•æ„Ÿç­‰ã€‚",
                sources: "ä¸»è¦ä¾†è‡ªç‰›å¥¶ã€ä¹³è£½å“ã€å°é­šä¹¾ã€è±†è£½å“ã€æ·±ç¶ è‰²è”¬èœã€‚",
                example: "ğŸ’¡ ç”Ÿæ´»ç¯„ä¾‹ï¼šæˆ‘åƒæ˜¯èº«é«”è£¡çš„ã€Œé‹¼ç­‹æ··å‡åœŸã€ï¼Œæ²’æœ‰æˆ‘ï¼Œä½ çš„éª¨éª¼å°±åƒæ²’æœ‰æ”¯æ’çš„æˆ¿å­ï¼Œå®¹æ˜“åå¡Œã€‚æˆ‘é‚„æ˜¯è‚Œè‚‰å’Œç¥ç¶“çš„ã€Œé–‹é—œã€ï¼Œæ²’æœ‰æˆ‘ï¼Œå®ƒå€‘å°±ç„¡æ³•æ­£å¸¸å·¥ä½œã€‚"
            },
            // æ–°å¢è§’è‰²ï¼šç¶­ç”Ÿç´ Då¯¶å¯¶
            {
                id: "ç¶­ç”Ÿç´ Då¯¶å¯¶",
                name: "ç¶­ç”Ÿç´ Då¯¶å¯¶",
                icon: "ğŸ§š",
                role: "éˆ£è³ªå¸æ”¶çš„æ¨å‹•è€…",
                description: "æˆ‘æ˜¯ã€Œéˆ£è¶…äººã€çš„å¿ å¯¦å¤¥ä¼´ï¼æˆ‘çš„ä¸»è¦è·è²¬æ˜¯å¹«åŠ©ä½ çš„èº«é«”å¸æ”¶éˆ£è³ªï¼Œè®“éˆ£è¶…äººèƒ½æ›´å¥½åœ°ç™¼æ®ä½œç”¨ï¼Œå…±åŒç¶­è­·éª¨éª¼å¥åº·ã€‚æˆ‘ä¹Ÿå°å…ç–«ç³»çµ±çš„æ­£å¸¸é‹ä½œæœ‰é‡è¦è²¢ç»å–”ï¼",
                deficiencySymptoms: "ç¼ºä¹æ™‚æœƒå½±éŸ¿éˆ£è³ªå¸æ”¶ï¼Œå°è‡´éª¨éª¼è»ŸåŒ–ï¼ˆå…’ç«¥ä½åƒ‚ç—…ï¼Œæˆäººéª¨è»ŸåŒ–ç—‡ï¼‰ï¼Œå¢åŠ éª¨è³ªç–é¬†å’Œéª¨æŠ˜é¢¨éšªã€‚ä¹Ÿå¯èƒ½å½±éŸ¿å…ç–«åŠŸèƒ½ï¼Œå¢åŠ æ„ŸæŸ“é¢¨éšªï¼Œä¸¦èˆ‡æƒ…ç·’ã€å¿ƒè¡€ç®¡ç–¾ç—…ç­‰æœ‰é—œã€‚",
                sources: "ä¸»è¦ä¾†è‡ªæ—¥æ›¬ï¼ˆèº«é«”è‡ªè¡Œåˆæˆï¼‰ã€é®­é­šã€è›‹é»ƒã€ä¹³è£½å“ï¼ˆå¼·åŒ–ç¶­ç”Ÿç´ Dï¼‰ã€‚",
                ç¯„ä¾‹: "ğŸ’¡ ç”Ÿæ´»ç¯„ä¾‹ï¼šæˆ‘åƒæ˜¯ã€Œéˆ£è¶…äººã€çš„ã€Œå°ˆå±¬å¸æ©Ÿã€å’Œã€Œè¶…ç´šåš®å°ã€ã€‚æ²’æœ‰æˆ‘ï¼Œéˆ£è¶…äººå°±å¾ˆé›£è¢«ä½ çš„èº«é«”å¸æ”¶åˆ©ç”¨ã€‚æˆ‘é‚„èƒ½å¹«åŠ©ä½ çš„å…ç–«ç³»çµ±ï¼Œå°±åƒæ˜¯ä½ çš„ã€Œè²¼èº«ä¿é¢ã€ï¼"
            }
        ];

        // Background Music Data (æ‚¨å¯ä»¥æ›¿æ›é€™äº›éŸ³æ¨‚çš„ URLï¼Œä¸¦å¢åŠ æ›´å¤šæ­Œæ›²)
        const bgmSongsData = [
            { id: 'bgm-song1', name: 'Mortal funk', url: 'https://github.com/petroleum2024/heyyo/raw/main/Warriyo%2C%20LXNGVX%20-%20Mortals%20Funk%20Remix%20%5BNCS%20Release%5D.mp3' },
            { id: 'bgm-song2', name: 'éœ²æ¯”é†¬', url: 'https://github.com/petroleum2024/heyyo/raw/main/6%E6%9C%888%E6%97%A5.mp4' },
            { id: 'bgm-song3', name: 'å¤§å±•é´»åœ–', url: 'https://github.com/petroleum2024/heyyo/raw/main/6%E6%9C%888%E6%97%A5(2)%20-%20Compressed%20with%20FlexClip.mp4' }
        ];

        let score = 0;
        let currentQuestionIndex = 0;
        const screens = document.querySelectorAll('.screen');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const volumeSlider = document.getElementById('volumeSlider');
        const bgmSelector = document.getElementById('bgm-selector'); // New selector element
        const progressSlider = document.getElementById('progressSlider'); // New progress slider
        const currentTimeDisplay = document.getElementById('currentTimeDisplay'); // Current time display
        const durationDisplay = document.getElementById('durationDisplay'); // Total duration display

        let bgmAudioElements = new Map(); // To store actual audio elements (Audio objects)
        let currentBGM = null; // Reference to the currently playing background music Audio object

        // éŸ³æ•ˆå…ƒç´ è®Šæ•¸
        let correctSFX;
        let incorrectSFX;

        const scoreDisplay = document.getElementById('score-display');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedbackResult = document.getElementById('feedback-result');
        const feedbackMessage = document.getElementById('feedback-message');
        const explanationDiv = document.getElementById('explanation');
        const finalScoreDisplay = document.getElementById('final-score');
        const characterListDiv = document.getElementById('character-list');
        const geminiExplanationContainer = document.getElementById('gemini-explanation-container');
        const geminiExplanationText = document.getElementById('gemini-explanation-text');
        const geminiLoadingSpinner = document.getElementById('gemini-loading');

        // Navigation buttons
        const prevQuestionNavBtn = document.getElementById('prev-question-nav-btn');
        const backToHomeFromQuestionBtn = document.getElementById('back-to-home-from-question-btn'); // New button
        const nextQuestionNavBtn = document.getElementById('next-question-nav-btn');
        const prevFeedbackNavBtn = document.getElementById('prev-feedback-nav-btn');
        const nextFeedbackNavBtn = document.getElementById('next-feedback-nav-btn'); // This button will become "æŸ¥çœ‹åˆ†æ•¸"

        /**
         * Formats time in seconds into MM:SS format.
         * @param {number} seconds - The time in seconds.
         * @returns {string} Formatted time string.
         */
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const remainingSeconds = Math.floor(seconds % 60);
            return `${minutes < 10 ? '0' : ''}${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
        }

        // Function to show a specific screen and hide others
        function showScreen(screenId) {
            screens.forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
            updateNavButtonsVisibility(); // Update button state when screen changes
        }

        // Initialize game or reset it
        function startGame() {
            score = 0;
            currentQuestionIndex = 0;
            updateScoreDisplay();
            showScreen('question-screen');
            displayQuestion();
        }

        // Display current question
        function displayQuestion() {
            if (currentQuestionIndex >= gameData.length) {
                endGame(); // If somehow currentQuestionIndex is out of bounds, go to end
                return;
            }

            // Reset Gemini explanation for the new question
            geminiExplanationContainer.style.display = 'none';
            geminiExplanationText.textContent = '';
            geminiLoadingSpinner.style.display = 'none';

            const question = gameData[currentQuestionIndex];
            questionText.textContent = `ç¬¬ ${currentQuestionIndex + 1} é¡Œ: ${question.question}`; // Add question number
            optionsContainer.innerHTML = ''; // Clear previous options

            // Enable all option buttons
            optionsContainer.querySelectorAll('.option-btn').forEach(btn => {
                btn.disabled = false;
                btn.classList.remove('correct', 'incorrect');
            });

            const isLastQuestion = (currentQuestionIndex === gameData.length - 1);

            question.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.classList.add('option-btn');
                button.textContent = option;
                button.onclick = () => checkAnswer(option, isLastQuestion); // Pass isLastQuestion to checkAnswer
                optionsContainer.appendChild(button);
            });

            // Add 'äº¤å·' button only for the last question
            if (isLastQuestion) {
                const submitButton = document.createElement('button');
                submitButton.classList.add('submit-btn');
                submitButton.textContent = 'äº¤å·';
                submitButton.onclick = () => submitQuiz();
                optionsContainer.appendChild(submitButton);
            }

            updateNavButtonsVisibility(); // Update button state after question display
        }

        // Check the selected answer
        function checkAnswer(selectedOption, isLastQuestion = false) {
            const question = gameData[currentQuestionIndex];
            const isCorrect = (selectedOption === question.answer);

            // Disable all option buttons
            Array.from(optionsContainer.children).forEach(btn => {
                btn.disabled = true;
                if (btn.classList.contains('submit-btn')) { // Keep submit button active if not clicked directly
                   btn.disabled = false;
                }
            });

            // Highlight chosen option and correct answer
            Array.from(optionsContainer.children).forEach(btn => {
                if (btn.textContent === selectedOption) {
                    btn.classList.add(isCorrect ? 'correct' : 'incorrect');
                } else if (btn.textContent === question.answer) {
                    btn.classList.add('correct'); // Show correct answer even if incorrect was chosen
                }
            });


            if (isCorrect) {
                score++;
                feedbackResult.textContent = "ç­”å°äº†ï¼ğŸ‰";
                feedbackResult.classList.remove('text-red-600');
                feedbackResult.classList.add('text-green-600');
                feedbackMessage.textContent = "ä½ å°å¥åº·çŸ¥è­˜çš„ç†è§£å¾ˆæ£’ï¼";
                if (correctSFX) {
                    correctSFX.pause(); // æš«åœä¸¦é‡ç½®ï¼Œç¢ºä¿æ¯æ¬¡å¾é ­æ’­æ”¾
                    correctSFX.currentTime = 0;
                    correctSFX.play();
                }

                // Display explanation - ONLY for the correct answer
                const correctCharacter = characters.find(char => char.id === question.character);
                explanationDiv.innerHTML = `
                    <p><strong><span class="character-icon">${correctCharacter ? correctCharacter.icon : ''}</span>é—œæ–¼æ­£ç¢ºç­”æ¡ˆçš„è§£é‡‹ï¼š</strong></p>
                    <p>${question.explanation}</p>
                    ${correctCharacter ? `<p class="mt-2 text-sm text-gray-600"><strong>${correctCharacter.example}</strong></p>` : ''}
                    ${correctCharacter ? `<p class="text-sm mt-2 text-gray-600"><strong>ä¾†æºï¼š</strong>${correctCharacter.sources}</p>` : ''}
                    ${correctCharacter && correctCharacter.deficiencySymptoms ? `<p class="text-sm mt-2 font-semibold text-red-700"><strong>ç¼ºä¹æ™‚å¯èƒ½å°è‡´çš„ç—‡ç‹€ï¼š</strong>${correctCharacter.deficiencySymptoms}</p>` : ''}
                `;

            } else { // User answered incorrectly
                // score remains unchanged if incorrect (no deduction)
                feedbackResult.textContent = "ç­”éŒ¯äº†... ğŸ˜¢";
                feedbackResult.classList.remove('text-green-600');
                feedbackResult.classList.add('text-red-600');
                feedbackMessage.textContent = `æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š${question.answer}`;
                if (incorrectSFX) {
                    incorrectSFX.pause(); // æš«åœä¸¦é‡ç½®ï¼Œç¢ºä¿æ¯æ¬¡å¾é ­æ’­æ”¾
                    incorrectSFX.currentTime = 0;
                    incorrectSFX.play();
                }

                // Clear previous explanation content
                explanationDiv.innerHTML = '';

                // Get the character related to the correct answer for its explanation
                const correctCharacter = characters.find(char => char.id === question.character);

                // Try to find if the selected option corresponds to a character
                const selectedCharacter = characters.find(char => selectedOption.includes(char.name));

                // Section for the INCORRECTLY chosen option/character
                if (selectedCharacter) {
                    explanationDiv.innerHTML += `
                        <p class="text-lg font-semibold text-red-700 mt-4">ä½ é¸æ“‡çš„ç­”æ¡ˆï¼šã€Œ${selectedOption}ã€</p>
                        <p><strong><span class="character-icon">${selectedCharacter.icon}</span>${selectedCharacter.name} çš„ä½œç”¨ï¼š</strong></p>
                        <p>${selectedCharacter.description}</p>
                        <p class="mt-2 text-sm text-gray-600"><strong>${selectedCharacter.example}</strong></p>
                        <p class="text-sm mt-2 text-gray-600"><strong>ä¾†æºï¼š</strong>${selectedCharacter.sources}</p>
                        ${selectedCharacter.deficiencySymptoms ? `<p class="text-sm mt-2 font-semibold text-red-700"><strong>ç¼ºä¹æ™‚å¯èƒ½å°è‡´çš„ç—‡ç‹€ï¼š</strong>${selectedCharacter.deficiencySymptoms}</p>` : ''}
                    `;
                } else {
                    // If the selected option is NOT a character name (e.g., from a myth question)
                    explanationDiv.innerHTML += `
                        <p class="text-lg font-semibold text-red-700 mt-4">ä½ é¸æ“‡çš„ç­”æ¡ˆï¼š</p>
                        <p class="font-medium text-gray-700">ã€Œ${selectedOption}ã€</p>
                        <p class="text-sm text-gray-600 mt-2">é€™å€‹é¸é …ä¸ç¬¦åˆæ­£ç¢ºçš„å¥åº·çŸ¥è­˜ã€‚è«‹çœ‹ä¸‹æ–¹æ­£ç¢ºçš„è§£é‡‹ã€‚</p>
                    `;
                }

                // Section for the CORRECT answer's explanation
                explanationDiv.innerHTML += `
                    <p class="text-lg font-semibold text-green-700 mt-4">æ­£ç¢ºç­”æ¡ˆçš„è§£é‡‹ï¼š</p>
                    <p>${question.explanation}</p>
                    ${correctCharacter ? `<p class="mt-2 text-sm text-gray-600"><strong>${correctCharacter.example}</strong></p>` : ''}
                    ${correctCharacter ? `<p class="text-sm mt-2 text-gray-600"><strong>ä¾†æºï¼š</strong>${correctCharacter.sources}</p>` : ''}
                    ${correctCharacter && correctCharacter.deficiencySymptoms ? `<p class="text-sm mt-2 font-semibold text-green-700"><strong>ç¼ºä¹æ™‚å¯èƒ½å°è‡´çš„ç—‡ç‹€ï¼š</strong>${correctCharacter.deficiencySymptoms}</p>` : ''}
                `;
            }

            // ALWAYS show feedback screen
            showScreen('feedback-screen');
        }

        // Function to handle quiz submission
        function submitQuiz() {
            // This function is called when the 'äº¤å·' button is clicked.
            // If the user clicks 'äº¤å·' without selecting an option on the last question,
            // we will simulate an incorrect answer to show the feedback screen.
            const options = Array.from(optionsContainer.children).filter(btn => btn.classList.contains('option-btn'));
            const anyOptionSelected = options.some(btn => btn.classList.contains('correct') || btn.classList.contains('incorrect'));

            if (!anyOptionSelected) { // If no option was selected, treat as unanswered/incorrect
                // Simulate checking an "empty" answer for the last question to ensure feedback is shown
                // The current question index is already at the last question.
                checkAnswer("æœªä½œç­”", true);
            } else {
                // If an option was already selected, checkAnswer would have already been called
                // and showScreen('feedback-screen') would have been executed.
                // So, we don't need to do anything here as the user is already on the feedback screen.
            }
        }


        // Function to call Gemini API for more info
        async function learnMore() {
            const currentQuestion = gameData[currentQuestionIndex];
            const characterName = currentQuestion.character;
            // The topic for Gemini should be the character's role and name for a better explanation
            const characterInfo = characters.find(char => char.id === characterName);
            const promptTopic = `${characterInfo.name} (${characterInfo.role})`;

            // Display loading spinner and clear previous text
            geminiExplanationContainer.style.display = 'block';
            geminiExplanationText.textContent = 'ç”Ÿæˆä¸­...';
            geminiLoadingSpinner.style.display = 'inline-block';

            let chatHistory = [];
            const prompt = `è«‹ç”¨ç¹é«”ä¸­æ–‡ï¼Œä»¥æ˜“æ–¼ç†è§£çš„æ–¹å¼ï¼Œé‡å°ã€Œ${promptTopic}ã€åœ¨äººé«”ä¸­çš„ä½œç”¨åŠå…¶é‡è¦æ€§ï¼Œæä¾›æ›´æ·±å…¥çš„å¥åº·çŸ¥è­˜è§£èªªã€‚è§£é‡‹å…§å®¹ç´„100-150å­—ã€‚`;
            chatHistory.push({ role: "user", parts: [{ text: prompt }] });
            const payload = { contents: chatHistory };
            const apiKey = ""; // If you want to use models other than gemini-2.0-flash or imagen-3.0-generate-002, provide an API key here. Otherwise, leave this as-is.
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();

                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    geminiExplanationText.textContent = text;
                } else {
                    geminiExplanationText.textContent = 'ç„¡æ³•ç”Ÿæˆæ›´å¤šè³‡è¨Šï¼Œè«‹ç¨å¾Œå†è©¦ã€‚';
                    console.error('Gemini API response format unexpected:', result);
                }
            } catch (error) {
                geminiExplanationText.textContent = 'ç”Ÿæˆå¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯æˆ–ç¨å¾Œå†è©¦ã€‚';
                console.error('Error calling Gemini API:', error);
            } finally {
                geminiLoadingSpinner.style.display = 'none'; // Hide spinner
            }
        }


        // Move to the next question (from feedback screen or skipping from question screen)
        function nextQuestion() {
            const isLastQuestion = (currentQuestionIndex === gameData.length - 1);
            if (isLastQuestion) {
                endGame(); // If it's the last question, go to end screen
            } else {
                currentQuestionIndex++;
                displayQuestion();
                showScreen('question-screen');
            }
        }

        // Function to skip to next question without answering (from question screen nav button)
        function skipToNextQuestion() {
            // No score change, just move to next question
            nextQuestion();
        }

        // Move to the previous question
        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
                showScreen('question-screen');
            }
            // No need to call updateNavButtonsVisibility here, it's called in displayQuestion and showScreen
        }

        // Update visibility and disabled state of navigation buttons
        function updateNavButtonsVisibility() {
            const isFirstQuestion = (currentQuestionIndex === 0);
            const isLastQuestion = (currentQuestionIndex === gameData.length - 1);
            // const isFeedbackScreenActive = document.getElementById('feedback-screen').classList.contains('active'); // Not directly used in decision logic here anymore

            // Question Screen Nav Buttons
            if (prevQuestionNavBtn) {
                prevQuestionNavBtn.disabled = isFirstQuestion;
            }
            if (nextQuestionNavBtn) {
                // If it's the last question, the "Next" button should be disabled as "äº¤å·" takes over.
                // Otherwise, it should be enabled.
                nextQuestionNavBtn.disabled = isLastQuestion;
            }

            // Feedback Screen Nav Buttons
            if (prevFeedbackNavBtn) {
                prevFeedbackNavBtn.disabled = isFirstQuestion;
            }
            if (nextFeedbackNavBtn) {
                // Only show "æŸ¥çœ‹åˆ†æ•¸" if we are on the feedback screen AND it's the last question.
                if (document.getElementById('feedback-screen').classList.contains('active') && isLastQuestion) {
                    nextFeedbackNavBtn.textContent = 'æŸ¥çœ‹åˆ†æ•¸';
                    nextFeedbackNavBtn.classList.add('view-score-btn'); // Add specific style
                    nextFeedbackNavBtn.classList.remove('nav-btn'); // Remove generic style
                    // When it's the last question on feedback screen, the button leads to endGame
                    nextFeedbackNavBtn.onclick = endGame;
                } else {
                    nextFeedbackNavBtn.textContent = 'ä¸‹ä¸€é¡Œ &#x25B6;';
                    nextFeedbackNavBtn.classList.add('nav-btn'); // Add generic style
                    nextFeedbackNavBtn.classList.remove('view-score-btn'); // Remove specific style
                    // When it's not the last question on feedback screen, the button leads to nextQuestion
                    nextFeedbackNavBtn.onclick = nextQuestion;
                }
                nextFeedbackNavBtn.disabled = false; // Always enabled to allow moving from feedback or viewing score
            }
        }


        // End game and show final score
        function endGame() {
            finalScoreDisplay.textContent = `ä½ çš„ç¸½åˆ†æ˜¯ï¼š${score} / ${gameData.length}`;
            showScreen('end-screen');
        }

        // Reset game for replay
        function resetGame() {
            startGame();
        }

        // Update score display
        function updateScoreDisplay() {
            scoreDisplay.textContent = `å¾—åˆ†ï¼š${score}`;
        }

        // Render character info screen
        function renderCharactersScreen() {
            characterListDiv.innerHTML = ''; // Clear previous characters
            characters.forEach(char => {
                const card = document.createElement('div');
                card.classList.add('character-card');
                card.innerHTML = `
                    <h3 class="flex items-center"><span class="character-icon">${char.icon}</span> ${char.name}</h3>
                    <p class="role">${char.role}</p>
                    <p>${char.description}</p>
                    <p class="text-sm mt-2 font-semibold text-gray-700"><strong>${char.example}</strong></p>
                    <p class="text-sm mt-2 text-gray-600"><strong>ä¾†æºï¼š</strong>${char.sources}</p>
                    <p class="text-sm mt-2 font-semibold text-red-700"><strong>ç¼ºä¹æ™‚å¯èƒ½å°è‡´çš„ç—‡ç‹€ï¼š</strong>${char.deficiencySymptoms}</p>
                `;
                characterListDiv.appendChild(card);
            });
            showScreen('characters-screen');
        }

        // Initial screen display and event listeners setup
        document.addEventListener('DOMContentLoaded', () => {
            // Get audio elements
            correctSFX = document.getElementById('correct-sfx');
            incorrectSFX = document.getElementById('incorrect-sfx');

            // Initialize background music audio elements
            bgmSongsData.forEach(song => {
                const audio = document.getElementById(song.id); // Get pre-existing audio element from HTML
                if (!audio) { // Fallback if audio element not found (shouldn't happen with current HTML)
                    console.warn(`Audio element with ID ${song.id} not found, creating new Audio object.`);
                    const newAudio = new Audio(song.url);
                    newAudio.loop = true;
                    bgmAudioElements.set(song.id, newAudio);
                } else {
                    audio.loop = true; // Ensure loop is set
                    bgmAudioElements.set(song.id, audio);
                }

                // Populate the dropdown
                const option = document.createElement('option');
                option.value = song.id;
                option.textContent = song.name;
                bgmSelector.appendChild(option);
            });

            // Set initial background music to the first song in the list
            currentBGM = bgmAudioElements.get(bgmSongsData[0].id);
            if (currentBGM) {
                volumeSlider.value = currentBGM.volume; // Set slider to current BGM volume (default 1.0)
                // Attempt to play music, handle autoplay policy
                const playPromise = currentBGM.play();
                if (playPromise !== undefined) {
                    playPromise.then(() => {
                        playPauseBtn.textContent = 'âšâš æš«åœ';
                    }).catch(error => {
                        console.log("Autoplay was prevented. User interaction is needed to play music.");
                        playPauseBtn.textContent = 'â–¶ æ’­æ”¾';
                    });
                }
            } else {
                 playPauseBtn.textContent = 'â–¶ æ’­æ”¾'; // No BGM, default to play
            }


            showScreen('start-screen');
            updateNavButtonsVisibility();

            // Event Listeners
            document.getElementById('startGameBtn').addEventListener('click', startGame);
            document.getElementById('renderCharactersBtn').addEventListener('click', renderCharactersScreen);
            document.getElementById('backToHomeFromCharacters').addEventListener('click', () => showScreen('start-screen'));
            document.getElementById('prev-question-nav-btn').addEventListener('click', previousQuestion);
            document.getElementById('back-to-home-from-question-btn').addEventListener('click', () => {
                showScreen('start-screen');
                // Optionally pause music when returning to home if it was playing a quiz BGM
                if (currentBGM && !currentBGM.paused) {
                    currentBGM.pause();
                    playPauseBtn.textContent = 'â–¶ æ’­æ”¾';
                }
            });
            document.getElementById('next-question-nav-btn').addEventListener('click', skipToNextQuestion);
            document.getElementById('learnMoreBtn').addEventListener('click', learnMore);
            document.getElementById('prev-feedback-nav-btn').addEventListener('click', previousQuestion);
            // next-feedback-nav-btn's function is dynamic, so keep setting it in updateNavButtonsVisibility
            document.getElementById('resetGameBtn').addEventListener('click', resetGame);
            document.getElementById('backToHomeFromEnd').addEventListener('click', () => showScreen('start-screen'));

            // Audio control event listeners
            playPauseBtn.addEventListener('click', () => {
                if (currentBGM) {
                    if (currentBGM.paused) {
                        currentBGM.play();
                        playPauseBtn.textContent = 'âšâš æš«åœ';
                    } else {
                        currentBGM.pause();
                        playPauseBtn.textContent = 'â–¶ æ’­æ”¾';
                    }
                }
            });

            volumeSlider.addEventListener('input', () => {
                if (currentBGM) {
                    currentBGM.volume = volumeSlider.value;
                }
            });

            // New: Song selection
            bgmSelector.addEventListener('change', (event) => {
                const selectedSongId = event.target.value;
                if (currentBGM) {
                    currentBGM.pause(); // Pause current song
                    // Remove timeupdate and ended listeners from previous BGM
                    currentBGM.removeEventListener('timeupdate', updateProgress);
                    currentBGM.removeEventListener('ended', handleSongEnded);
                    currentBGM.removeEventListener('loadedmetadata', setupProgressBar);
                }

                // Reset progress display immediately when a new song is selected
                progressSlider.value = 0;
                currentTimeDisplay.textContent = '00:00';
                durationDisplay.textContent = '00:00'; // Reset duration as well

                currentBGM = bgmAudioElements.get(selectedSongId); // Set new current song

                // Add timeupdate and ended listeners to the new BGM
                if (currentBGM) {
                    currentBGM.volume = volumeSlider.value; // Apply current volume setting
                    currentBGM.addEventListener('timeupdate', updateProgress);
                    currentBGM.addEventListener('loadedmetadata', setupProgressBar); // Set up progress bar when metadata loads
                    currentBGM.addEventListener('ended', handleSongEnded); // Handle when song ends (though loop is on)
                    
                    // Attempt to play, handling potential autoplay restrictions
                    currentBGM.play().then(() => {
                        playPauseBtn.textContent = 'âšâš æš«åœ';
                    }).catch(error => {
                        console.log("Failed to play selected song automatically. User interaction needed.");
                        playPauseBtn.textContent = 'â–¶ æ’­æ”¾'; // Keep button in play state if blocked
                    });

                    // Call setupProgressBar immediately in case metadata is already loaded (e.g., from cache)
                    // This ensures the duration and initial current time are set correctly for the new song
                    setupProgressBar();
                }
            });

            // Progress bar and time display logic
            function updateProgress() {
                if (currentBGM) {
                    const progress = currentBGM.currentTime;
                    progressSlider.value = progress;
                    currentTimeDisplay.textContent = formatTime(progress);
                }
            }

            function setupProgressBar() {
                if (currentBGM && !isNaN(currentBGM.duration)) { // Check if duration is a valid number
                    progressSlider.max = currentBGM.duration;
                    progressSlider.value = currentBGM.currentTime;
                    durationDisplay.textContent = formatTime(currentBGM.duration);
                    currentTimeDisplay.textContent = formatTime(currentBGM.currentTime);
                } else {
                    // Reset if duration is not available (e.g., audio not loaded yet)
                    progressSlider.max = 0;
                    progressSlider.value = 0;
                    durationDisplay.textContent = '00:00';
                    currentTimeDisplay.textContent = '00:00';
                }
            }

            function handleSongEnded() {
                // If loop is true, this won't fire. But good to have for consistency.
                playPauseBtn.textContent = 'â–¶ æ’­æ”¾';
                progressSlider.value = 0;
                currentTimeDisplay.textContent = '00:00';
            }

            // Event listener for progress slider (user seeking)
            progressSlider.addEventListener('input', () => {
                if (currentBGM) {
                    // Only seek if the audio has duration and is not paused by the browser's initial autoplay block
                    // or if it has started playing at least once.
                    if (!isNaN(currentBGM.duration) && currentBGM.readyState >= 1) { // readyState 1 means metadata is available
                        currentBGM.currentTime = progressSlider.value;
                        currentTimeDisplay.textContent = formatTime(currentBGM.currentTime);
                    }
                }
            });

            // Attach initial listeners for the first BGM if it exists
            if (currentBGM) {
                currentBGM.addEventListener('timeupdate', updateProgress);
                currentBGM.addEventListener('loadedmetadata', setupProgressBar);
                currentBGM.addEventListener('ended', handleSongEnded);
            }

            // Initial setup for progress bar display
            setupProgressBar();
        });
    </script>
</body>
</html>
